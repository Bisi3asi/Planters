# [애플리케이션 설계] 공통 모듈 설계
> **목차**
> 1. [재사용](#1)
> 2. [공통 모듈](#2)
> 3. [설계 모델링](#3)
> 3. [소프트웨어 아키텍처](#4)

핵심 키워드는 `코드 라인` 을 통해 표기함

<br>

### 1. 재사용 <a id="1"></a>
> 시스템의 개발 시간 / 비용 절감을 위해 검증 기능을 파악하고 재구성해 시스템에 응용하기 위한 최적화 작업이다.
>   * 즉, 기존 소프트웨어 시스템 지식을 이용해 <u>새로운 소프트웨어를 구축하는 작업</u>이다.

<br>

**재사용의 유형**
* 함수와 객체 재사용 : Class / Function 단위 소스코드 재사용
* 컴포넌트 재사용 : 컴포넌트 (인터페이스 통신) 단위 재사용
* 애플리케이션 재사용 : 애플리케이션과 기능을 공유해 재사용

<br>

### 2. 공통 모듈 <a id="2"></a>
> **`모듈` : 크게 독립된 하나의 소프트웨어 / 하드웨어 단위**
> * 모듈화를 통해 분리된 시스템 기능을 의미
> * 서브 프로그램 및 루틴, 단위 프로그램, 작업 단위 등 의미로도 사용

<br>

**모듈의 특징**
* 독립성 : 각각의 모듈은 독립성을 가진다.
  * 모듈의 독립성은 `결합도` 와 `응집도`에 의해 결정된다.
* 다양한 조합 : 모듈 내부에는 모듈을 하나로 통합하는 수많은 조합이 존재
* 재사용 : 모듈은 단독으로 컴파일 가능, 재사용 가능
* 영향 최소화 : 독립성 높은 모듈일수록 수정 시 다른 모듈에 영향을 미치지 않음

<br>

**공통 모듈**
> 전체 프로그램 기능 중 특정 기능을 처리할 수 있는 실행 코드를 의미
> * 자체적으로 <u>컴파일이 가능함</u>
> * 여러 기능 및 프로그램에서 공통으로 사용하는 모듈을 의미
>   * ex) 날짜 처리 모듈 등

<br>

**공통 모듈의 원칙**
* `정`확성 : 기능이 시스템에 필요한지 아닌지 알 수 있게 정확히 작성
* `명`확성 : 일관되게 이해하고 <u>한가지로 해석할 수 있도록</u> 작성
* `완`전성 : 시스템이 구현될때 필요하고 요구되는 모든 것을 기술
* `일`관성 : 공통 기능 간에 <u>상호 충돌이 없도록</u> 작성
* `추`적성 : 기능의 요구사항 출처와 기능 간 유기적 관계에 대해 식별할 수 있도록 작성

<br>

**`모듈화`**
> 프로그램의 효율성을 위해 <u>시스템을 분해하고 추상화해 재사용 및 유지 관리를 쉽게 하는 기법</u>
> * <u>기능 단위의 모듈로 분해</u>하는 설계 및 구현 기법

<br>

**모듈화 기법**
* 루틴 : 특정 동작을 수행하는 일련의 코드로 기능을 가진 명령의 모임
* 메인 루틴 : 프로그램의 주요한 부분으로, 전체의 개략적인 동작 절차를 표시하는 루틴
  * <u>메인 루틴은 서브 루틴을 호출</u>
* 서브 루틴 : 메인 루틴에 의해 호출되는 루틴

<br>

**모듈화 필요성**
* 모듈의 크기가 너무 작아 모듈 개수가 많아지면 통합 비용이 발생함
* 그렇다고 너무 크면 모듈당 개발 비용이 커짐
* <u>따라서, 모듈의 적당한 크기의 지점을 찾아야만 최소 비용으로 작업 가능</u>


<br>

**바람직한 모듈 설계 방안**
* 모듈의 독립성과 재사용성을 높이기 위해 `결합도는 낮추고 응집도는 높임`
* 모듈의 복잡도와 중복성을 줄이고 일관성을 유지
* 모듈의 기능은 예측이 가능해야 하며, 지나치게 제한적이면 안됌
* 적당한 모듈의 크기를 유지
* 모듈 간 효과적인 제어를 위해 <u>계층적 자료 조직</u>이 제시
* 유지보수가 용이해야하며, 이식성을 고려해야 함

<br>

**★ 모듈화 측정 지표**
* `응집도` : 모듈의 `내부` 요소들이 서로 관련 있는 정도
* `결합도` : 모듈 간에 `외부` 상호 의존도

<br>

**모듈화 유형**
* `★ 응집도(Cohesion)` : 모듈 하나의 독립성을 나타내는 개념, 내부 요소들의 상호 관련성
  * 유형 (`우 → 논 → 시 → 절 → 통(교) → 순 → 기` 순으로 높은 응집도)
    * `우`연적 응집도 : 서로 간에 <u>어떠한 관련성도 없는</u> 기능 요소의 수준
    * `논`리적 응집도 : <u>유사한 성격</u>을 갖거나 특정 형태로 분류되는 수준
    * `시`간적 응집도 : 연관된 기능이라보다는 <u>특정 시간</u>에 공통적으로 처리되는 수준
    * `절`차적 응집도 : 모듈이 <u>다수의 공통 관련 기능</u>을 가지는 수준
    * `통`신적 응집도(`교`환적 응집도) :  <u>동일한 입/출력</u>을 사용해 다른 기능을 수행하는 수준
    * `순`차적 응집도 : 모듈 내의 한 활동으로부터 <u>출력값을 이어받아</u> 다른 활동이 사용하는 수준
    * `기`능적 응집도 : 모듈 내부의 <u>모든 기능이 단일 목적을 위해</u> 수행되는 수준
  * `높은 응집도` : 단 하나의 기능만 모듈로 분리 가능 → (독립성 보장, 변경이 쉬움) = <u>유지보수 용이</u>
  * 낮은 응집도 : 하나의 모듈에 다양한 기능이 들어감 → 낮은 독립성 = <u>유지보수 불리</u>

<br>

* `★ 결합도(Coupling)` : 모듈과 모듈 (즉, 외부) 간의 연관성과 상호 의존성
  * 유형 (`내 → 공 → 외 → 제 → 스 → 자` 순으로 낮은 결합도)
  * `내`용 결합도 : 다른 모듈 내부의 변수나 기능을 다른 모듈에서 사용하는 수준
    *  하나의 모듈에서 다른 모듈 내용을 참조할 때 <u>내용적으로 결합되어 있는</u> 수준
  * `공`통 결합도 : 파라미터가 아닌 모듈 밖의 전역 변수를 참조하고 이를 갱신하는 수준
    * <u>공통 전역 변수나 데이터 영역</u>을 여러 모듈이 사용하는 경우
  * `외`부 결합도 : 두 개의 모듈이 외부의 통신 프로토콜, 인터페이스를 공유하는 수준
    * <u>외부 모듈</u>의 데이터 변수를 외부의 다른 모듈에서 참조하는 수준
  * `제`어 결합도 : 어떤 모듈이 다른 모듈의 내부 논리를 제어하기 위해 제어 신호를 이용하는 수준
    * 하위 모듈에서 상위 모듈로 <u>제어 신호</u>가 발생해 상위 모듈이 처리 명령을 수행하는 수준
  * `스`탬프 결합도 : 모듈 간 인터페이스로 배열, 객체, 구조 등이 전달되는 수준
    * 두 모듈이 `동일한 자료 구조`를 조회하는 수준 (다른 배열이라도 배열이라는 자료구조를 참조한다는 의미) 
  * `자`료 결합도 : 모듈 간 <u>파라미터</u>를 통해서만 모듈 간 상호 작용이 일어나는 수준
    * 완전한 함수형, 한 모듈의 내용을 변경하더라도 다른 모듈에는 영향을 미치지 않는 수준

<br>

**팬 인(Fan-In)과 팬 아웃(Fan-Out)**
> 팬 인과 팬 아웃을 활용해서 모듈의 계층 분석을 진행함
* `팬 인(Fan-In)` : 어떤 모듈을 제어하는 모듈의 수 (서브 모듈)
  * 모듈 자신을 기준으로 들어옴
* `팬 아웃(Fan-Out)` : 어떤 모듈에 의해 제어되는 모듈의 수 (내가 서브 모듈)
  * 모듈 자신을 기준으로 나감

<br>


### 3. 설계 모델링 <a id="3"></a>

<br>

### 4. 소프트웨어 아키텍처 <a id="4"></a>